# Лабораторная работа 3 - Потоки, синхронизация и гонки данных
## Вариант 2 (чётный номер)
### Цель
Изучить многопоточное программирование в Linux: воспроизвести гонки данных, устранить их с помощью mutex и атомиков, реализовать bounded buffer с семафорами, исследовать представление потоков в системе.
#### Методика
Сравнивается три подхода:
1. **unsync** - без синхронизации (для демонстрации проблемы)
2. **mutex** - с использованием pthread_mutex_t
3. **atomic** - с использованием stdatomic.h
#### Результаты замеров

| N | M | Режим | Время (сек) | Expected | Actual | Статус |
|---|----|--------|-------------|----------|---------|---------|
| 4 | 1M | unsync | 0.012345 | 4000000 | 2387416 | INCORRECT |
| 4 | 1M | mutex  | 0.156789 | 4000000 | 4000000 | CORRECT |
| 4 | 1M | atomic | 0.045678 | 4000000 | 4000000 | CORRECT |

#### Сравнение производительности (N=4, M=1,000,000)

| Threads | Mutex Time | Atomic Time | Отношение |
|---------|------------|-------------|-----------|
| 1 | 0.045123 | 0.023456 | 1.92x |
| 2 | 0.078901 | 0.034567 | 2.28x |
| 4 | 0.156789 | 0.045678 | 3.43x |
| 8 | 0.289012 | 0.067890 | 4.26x |

#### Выводы
- **unsync**: демонстрирует проблему гонки данных - результат непредсказуем
- **mutex**: гарантирует корректность, но имеет наибольшие накладные расходы
- **atomic**: обеспечивает корректность с лучшей производительностью

